{"version":3,"sources":["./src/app/component/trainer-mode/trainer-mode.component.ts","./src/app/component/trainer-mode/trainer-mode.component.html","./src/app/Module/trainer-mode/trainer-mode.module.ts","./src/app/Module/trainer-mode/trainer-mode-routing.module.ts"],"names":[],"mappings":"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","file":"trainer-mode-trainer-mode-module.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport Swal from 'sweetalert2';\n\nimport { ChatService } from 'src/app/service/chat.service';\nimport { UserService } from 'src/app/service/user.service';\nimport { FormativeData } from 'src/app/utilities/formative_data';\nimport { environment } from 'src/environments/environment';\nimport { Router } from '@angular/router';\nimport { LiveSessionChatService } from 'src/app/service/live-session-chat.service';\nimport { AttachmentService } from 'src/app/service/attachment.service';\n\n@Component({\n  selector: 'app-trainer-mode',\n  templateUrl: './trainer-mode.component.html',\n  styleUrls: ['./trainer-mode.component.scss'],\n})\nexport class TrainerModeComponent implements OnInit {\n  spinner: boolean = false;\n  batch: any[] = [];\n  selected_batch: any;\n  all_chats: any[] = [];\n  user: any;\n  student_id: any[] = [];\n  files: any[] = [];\n  message_sending: boolean = false;\n  @ViewChild('textarea') textarea: ElementRef;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private chat_service: ChatService,\n    private user_service: UserService,\n    private live_session_chat_service: LiveSessionChatService,\n    private attachment_service: AttachmentService\n  ) {\n    // new message\n    this.live_session_chat_service.new_message_received().subscribe((res) => {\n      if (res.sender_type !== 'admin') {\n        this.all_chats.push(res);\n      }\n\n      setTimeout(() => {\n        this.scroll_chat_container();\n      }, 50);\n    });\n  }\n\n  error_handler(error) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: error.errorMessage,\n    }).then(() => {\n      this.spinner = false;\n      this.router.navigate(['/main']);\n    });\n  }\n\n  // get all batch\n  get_user_all_batch() {\n    this.spinner = true;\n    this.user_service.get_admin_batch_details().subscribe(\n      (res: any) => {\n        const data = res.data;\n        this.user = data;\n        this.batch = data.batch_ids;\n        if (this.batch.length > 0) {\n          this.check_batch_timing(this.batch);\n          return;\n        }\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Batch Not found',\n        }).then(() => {\n          this.spinner = false;\n          this.router.navigate(['/main']);\n        });\n      },\n      (error) => {\n        this.error_handler(error);\n      }\n    );\n  }\n\n  // check batch timing\n  async check_batch_timing(batch) {\n    try {\n      const date_obj: any = await this.http\n        .get(environment.time_api_url)\n        .toPromise();\n\n      const current_day_time = {\n        current_time: FormativeData.formative_date(\n          date_obj.currentDateTime,\n          'shortTime'\n        ),\n        current_day: date_obj.dayOfTheWeek,\n        current_date: new Date(date_obj.currentDateTime),\n      };\n\n      batch.forEach((bat, index) => {\n        const batch_info = {\n          batch_start_date: new Date(bat.batch_start_date),\n\n          batch_end_date: new Date(bat.batch_end_date),\n\n          batch_start_time: FormativeData.formative_date(\n            bat.batch_start_time,\n            'shortTime'\n          ),\n          batch_end_time: FormativeData.formative_date(\n            bat.batch_end_time,\n            'shortTime'\n          ),\n        };\n\n        if (\n          // current_day_time.current_time >= batch_info.batch_start_time &&\n          // current_day_time.current_time <= batch_info.batch_end_time &&\n          current_day_time.current_date >= batch_info.batch_start_date &&\n          current_day_time.current_date <= batch_info.batch_end_date &&\n          bat.active_days.includes(current_day_time.current_day)\n        ) {\n          bat.active = true;\n        } else {\n          bat.active = false;\n        }\n      });\n\n      this.batch = batch;\n      this.spinner = false;\n    } catch (error) {\n      this.spinner = false;\n      this.error_handler(error);\n    }\n  }\n\n  // get selected batch chat\n  async get_selected_batch_all_chat(selected_batch) {\n    this.all_chats = [];\n    this.spinner = true;\n    if (this.selected_batch) {\n      this.leave_room();\n    }\n    this.selected_batch = selected_batch;\n    this.chat_service\n      .get_chat_message_trainer_mode(this.selected_batch._id)\n      .subscribe(\n        (res: any) => {\n          this.all_chats = res.data;\n          this.all_chats.sort((a, b) => a.created_at - b.created_at);\n          this.spinner = false;\n          this.join_room();\n          setTimeout(() => {\n            this.scroll_chat_container();\n          }, 50);\n        },\n        (error) => this.error_handler(error)\n      );\n  }\n\n  scroll_chat_container() {\n    const div = document.getElementById('chat-body');\n    if (div != null) {\n      div.scrollTop = div.scrollHeight - div.clientHeight;\n    } else {\n      setTimeout(() => {\n        this.scroll_chat_container();\n      }, 200);\n    }\n  }\n\n  textarea_auto_increment(event) {\n    const tx = event.target;\n    tx.style.height = 'auto';\n    tx.style.height = tx.scrollHeight + 'px';\n  }\n\n  // attachment\n  attchment(event) {\n    this.files = [];\n    for (let i = 0; i < event.target.files.length; i++) {\n      this.files.push(event.target.files[i]);\n    }\n  }\n\n  join_room() {\n    this.student_id = [];\n\n    this.all_chats.forEach((message) => {\n      if (\n        !this.student_id.find((out) => out.student_id == message.student_id)\n      ) {\n        this.student_id.push({\n          student_id: message.student_id,\n          chat_id: message.chat_id,\n        });\n      }\n    });\n\n    this.student_id.forEach((student) => {\n      this.live_session_chat_service.join_room({\n        room_id: student.student_id + this.selected_batch._id,\n      });\n    });\n  }\n\n  leave_room() {\n    this.student_id.forEach((student) => {\n      this.live_session_chat_service.leave({\n        room_id: student + this.selected_batch._id,\n      });\n    });\n  }\n\n  // send message\n  async send_message(message) {\n    this.message_sending = true;\n\n    const message_obj = {\n      text_message: message.value,\n      sme_id: localStorage.getItem('uid'),\n      sender_name: this.user.name,\n      sender_type: 'super admin',\n      attachment: [],\n      created_at: new Date(),\n    };\n\n    this.textarea.nativeElement.value = '';\n    try {\n      if (this.files.length > 0) {\n        const files: any = await this.attachment_service.upload_files(\n          this.files\n        );\n        message_obj['attachment'] = FormativeData.concat_url_with_files(\n          files.files_paths\n        );\n      }\n\n      this.student_id.forEach((id) => {\n        const data = {\n          room_id: id.student_id + this.selected_batch._id,\n          chat_id: id.chat_id,\n        };\n        this.live_session_chat_service.send_message(message_obj, data);\n      });\n\n      this.files = [];\n      this.message_sending = false;\n    } catch (error) {\n      this.error_handler(error);\n    }\n  }\n\n  ngOnInit(): void {\n    this.get_user_all_batch();\n  }\n\n  ngOnDestroy(): void {\n    this.leave_room();\n    this.live_session_chat_service.remove_listen();\n  }\n}\n","<section *ngIf=\"!spinner; else showspinner\">\n  <!-- chat module -->\n  <div class=\"row\">\n    <div class=\"col-sm-12 col-md-4 m-b-md\">\n      <!-- student list -->\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div class=\"email-list\">\n            <ul class=\"list-unstyled\">\n              <li\n                style=\"cursor: pointer\"\n                *ngFor=\"let item of batch\"\n                (click)=\"get_selected_batch_all_chat(item)\"\n              >\n                <a class=\"javascript:void(0)\">\n                  <div class=\"email-list-item\">\n                    <div class=\"email-author\">\n                      <img\n                        src=\"../../assets/images/avatars/batch.svg\"\n                        alt=\"\"\n                        style=\"border-radius: 50%\"\n                      />\n                      <span class=\"author-name\"> {{ item.batch_name }} </span>\n                      <span class=\"email-date\">\n                        {{ item.active ? 1 : 0 }}\n                      </span>\n                    </div>\n                  </div>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- chat container -->\n    <div class=\"col-sm-12 col-md-8\" *ngIf=\"selected_batch\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <ng-container>\n            <!-- batch name -->\n            <div\n              class=\"\n                chat-header\n                d-flex\n                justify-content-between\n                align-items-center\n              \"\n            >\n              <h3 class=\"h3\">{{ selected_batch.batch_name }}</h3>\n            </div>\n\n            <div class=\"chat-body px-2 position-relative\" id=\"chat-body\">\n              <!-- load more button -->\n              <div class=\"d-flex\">\n                <button\n                  pButton\n                  pRipple\n                  pTooltip=\"Load more\"\n                  type=\"button\"\n                  icon=\"pi pi-cloud-download\"\n                  class=\"p-button-rounded p-button-outlined m-auto\"\n                ></button>\n              </div>\n\n              <!-- message list -->\n              <div\n                class=\"post-comments d-flex flex-column\"\n                *ngIf=\"all_chats.length != 0; else nochat\"\n              >\n                <div class=\"post-comm\" *ngFor=\"let chat of all_chats\">\n                  <img\n                    src=\"../../assets/images/avatars/user.svg\"\n                    class=\"comment-img\"\n                    alt=\"\"\n                  />\n                  <div class=\"comment-container pb-2\">\n                    <span class=\"comment-author\">\n                      {{ chat.sender_name }}\n                      <small class=\"comment-date\" *ngIf=\"chat.created_at\">\n                        {{ chat.created_at | amDateFormat: \"hh:mmA\" }}</small\n                      >\n                    </span>\n                  </div>\n\n                  <ng-container *ngIf=\"chat.text_message\">\n                    <p-divider></p-divider>\n                    <span class=\"comment-text\"> {{ chat.text_message }} </span>\n                  </ng-container>\n\n                  <div class=\"attachment\" *ngIf=\"chat.attachment.length > 0\">\n                    <p-divider></p-divider>\n                    <small>Attachments</small>\n                    <ul\n                      class=\"d-flex flex-wrap\"\n                      style=\"list-style: none; margin: 0; padding: 0\"\n                    >\n                      <li\n                        class=\"mr-2\"\n                        *ngFor=\"let attachment of chat.attachment; index as i\"\n                      >\n                        <a [href]=\"attachment\" target=\"_blank\">Files{{ i }} </a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n              <ng-template #nochat>\n                <h3 class=\"text-center text-danger center\">\n                  No Chat Available\n                </h3>\n              </ng-template>\n            </div>\n\n            <div class=\"chat-footer\">\n              <div class=\"row p-0 align-items-center\">\n                <div class=\"col-10\">\n                  <textarea\n                    name=\"text\"\n                    placeholder=\"Write Something\"\n                    id=\"\"\n                    cols=\"30\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    (input)=\"textarea_auto_increment($event)\"\n                    #textarea\n                  ></textarea>\n                </div>\n                <div class=\"chat-control col-2 d-flex align-items-center pl-0\">\n                  <div class=\"attachment\">\n                    <div class=\"file\">\n                      <input\n                        type=\"file\"\n                        multiple\n                        name=\"file\"\n                        (change)=\"attchment($event)\"\n                        id=\"file\"\n                      />\n                      <label for=\"file\" title=\"select files\">\n                        <span *ngIf=\"files.length == 0; else count\"\n                          ><i class=\"fas fa-paperclip\"></i\n                        ></span>\n                        <ng-template #count>\n                          <span class=\"count\"> {{ files.length }} </span>\n                        </ng-template>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div class=\"send z-1000\">\n                    <ng-container *ngIf=\"!message_sending; else wait\">\n                      <button\n                        type=\"button\"\n                        [disabled]=\"textarea.value == '' && files.length == 0\"\n                        (click)=\"send_message(textarea)\"\n                      >\n                        <i class=\"far fa-paper-plane\"></i>\n                      </button>\n                    </ng-container>\n\n                    <ng-template #wait>\n                      <button\n                        pButton\n                        pRipple\n                        type=\"button\"\n                        icon=\"pi pi-spin pi-spinner\"\n                        class=\"p-button-rounded\"\n                        disabled=\"true\"\n                      ></button>\n                    </ng-template>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TrainerModeRoutingModule } from './trainer-mode-routing.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { TrainerModeComponent } from '../../component/trainer-mode/trainer-mode.component';\n\n@NgModule({\n  declarations: [TrainerModeComponent],\n  imports: [\n    CommonModule,\n    TrainerModeRoutingModule,\n    SharedUtilitiesModule,\n    PrimengModule,\n  ],\n})\nexport class TrainerModeModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TrainerModeComponent } from '../../component/trainer-mode/trainer-mode.component';\n\nconst routes: Routes = [{ path: '', component: TrainerModeComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TrainerModeRoutingModule {}\n"],"sourceRoot":"webpack:///"}