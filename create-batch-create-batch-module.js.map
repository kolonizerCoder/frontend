{"version":3,"sources":["./src/app/component/create-batch/create-batch.component.ts","./src/app/component/create-batch/create-batch.component.html","./src/app/Module/create-batch/create-batch.module.ts","./src/app/Module/create-batch/create-batch-routing.module.ts"],"names":[],"mappings":"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","file":"create-batch-create-batch-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BatchService } from 'src/app/service/batch.service';\nimport { CourseService } from 'src/app/service/course.service';\nimport { PermissionService } from 'src/app/service/permission.service';\nimport { day } from 'src/app/utilities/days';\nimport { ACTIVE_USER } from 'src/app/utilities/Decode_jwt';\nimport { FormativeData } from 'src/app/utilities/formative_data';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-create-batch',\n  templateUrl: './create-batch.component.html',\n  styleUrls: ['./create-batch.component.scss'],\n})\nexport class CreateBatchComponent implements OnInit {\n  spinner: boolean = false;\n  create_batch_form: FormGroup;\n  courses: any[] = [];\n  days: string[];\n  duration: string[];\n\n  constructor(\n    private fb: FormBuilder,\n    private course_service: CourseService,\n    private batch_service: BatchService,\n    private permission_service: PermissionService,\n    private activated_route: ActivatedRoute,\n    private router: Router\n  ) {\n    this.days = day;\n    this.duration = [\n      '1 Month',\n      '2 Months',\n      '3 Months',\n      '4 Months',\n      '5 Months',\n      '6 Months',\n      '7 Months',\n      '8 Months',\n      '9 Months',\n      '10 Months',\n      '11 Months',\n      '12 Months',\n    ];\n  }\n\n  check_permission() {\n    this.spinner = true;\n    this.activated_route.data.subscribe(async (res) => {\n      const user: any = ACTIVE_USER();\n\n      if (!user.permissions.includes(res.role)) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Access Denied',\n        }).then(() => {\n          this.router.navigate(['/main']);\n          this.spinner = !this.spinner;\n        });\n        return;\n      }\n      this.get_all_course();\n      this.spinner = false;\n    });\n  }\n\n  validation() {\n    this.create_batch_form = this.fb.group({\n      batch_name: ['', Validators.required],\n      course_id: ['', Validators.required],\n      batch_duration: ['', Validators.required],\n      batch_start_date: ['', Validators.required],\n      batch_end_date: ['', Validators.required],\n      active_days: ['', Validators.required],\n      batch_start_time: ['', Validators.required],\n      batch_end_time: ['', Validators.required],\n    });\n  }\n\n  get_all_course() {\n    this.spinner = true;\n    this.course_service.get_all_course(false).subscribe(\n      (res: any) => {\n        this.courses = res.data;\n        this.courses.map((course) => delete course.disabled);\n        console.log(this.courses);\n        this.spinner = false;\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n          this.router.navigate(['/main']);\n        });\n      }\n    );\n  }\n\n  async create_batch() {\n    const data = this.create_batch_form.getRawValue();\n    data['disabled'] = false;\n    this.spinner = true;\n\n    this.batch_service.create_batch(data).subscribe(\n      (res) => {\n        Swal.fire({\n          icon: 'success',\n          title: 'Yeah...',\n          text: 'Batch Created',\n        });\n        this.create_batch_form.reset();\n        this.spinner = false;\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n        });\n      }\n    );\n  }\n\n  ngOnInit(): void {\n    this.check_permission();\n    this.validation();\n  }\n}\n","<div class=\"card\" *ngIf=\"!spinner; else showspinner\">\n  <div class=\"card-body\">\n    <div class=\"header\">\n      <h3 class=\"\">Create Batch</h3>\n      <button class=\"btn btn-primary\">\n        <a [routerLink]=\"['../view-batch']\">\n          <i class=\"fas fa-arrow-left\"></i> Back\n        </a>\n      </button>\n    </div>\n    <div class=\"container-fluid\">\n      <form\n        action=\"\"\n        [formGroup]=\"create_batch_form\"\n        (ngSubmit)=\"create_batch()\"\n        class=\"w-100\"\n      >\n        <div class=\"row\">\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <input\n                type=\"text\"\n                id=\"inputtext\"\n                class=\"form-control\"\n                pInputText\n                formControlName=\"batch_name\"\n              />\n              <label for=\"inputtext\">Name</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-dropdown\n                inputId=\"dropdown\"\n                [autoDisplayFirst]=\"false\"\n                [options]=\"duration\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"batch_duration\"\n              ></p-dropdown>\n              <label for=\"dropdown\">Duration</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-calendar\n                inputId=\"calendar\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"batch_start_date\"\n                dateFormat=\"dd.mm.yy\"\n              ></p-calendar>\n              <label for=\"calendar\">Batch Start Date</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-calendar\n                inputId=\"calendar\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"batch_end_date\"\n                dateFormat=\"dd.mm.yy\"\n              ></p-calendar>\n              <label for=\"calendar\">Batch End Date</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-multiSelect\n                inputId=\"multiselect\"\n                [options]=\"days\"\n                [filter]=\"true\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"active_days\"\n              ></p-multiSelect>\n              <label for=\"multiselect\">Active Days</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-dropdown\n                inputId=\"dropdown\"\n                [autoDisplayFirst]=\"false\"\n                [options]=\"courses\"\n                optionLabel=\"course_name\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"course_id\"\n              ></p-dropdown>\n              <label for=\"dropdown\">Course</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-calendar\n                [timeOnly]=\"true\"\n                inputId=\"timeonly\"\n                [style]=\"{ minWidth: '100%' }\"\n                hourFormat=\"12\"\n                formControlName=\"batch_start_time\"\n              ></p-calendar>\n              <label for=\"calenar\">Start Time</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-calendar\n                [timeOnly]=\"true\"\n                [style]=\"{ minWidth: '100%' }\"\n                inputId=\"timeonly\"\n                hourFormat=\"12\"\n                formControlName=\"batch_end_time\"\n              ></p-calendar>\n              <label for=\"calenar\">End Time</label>\n            </span>\n          </div>\n          <div class=\"col-12 col-md-4 mt-5\">\n            <button\n              class=\"btn btn-primary\"\n              [disabled]=\"create_batch_form.invalid\"\n            >\n              Create\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CreateBatchRoutingModule } from './create-batch-routing.module';\nimport { CreateBatchComponent } from '../../component/create-batch/create-batch.component';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\n\n@NgModule({\n  declarations: [CreateBatchComponent],\n  imports: [\n    CommonModule,\n    CreateBatchRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n  ],\n})\nexport class CreateBatchModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CreateBatchComponent } from '../../component/create-batch/create-batch.component';\n\nconst routes: Routes = [{ path: '', component: CreateBatchComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateBatchRoutingModule {}\n"],"sourceRoot":"webpack:///"}