{"version":3,"sources":["./src/app/Module/create-student/create-student.module.ts","./src/app/Module/create-student/create-student-routing.module.ts","./src/app/component/create-students/create-students.component.ts","./src/app/component/create-students/create-students.component.html"],"names":[],"mappings":"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","file":"create-student-create-student-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CreateStudentRoutingModule } from './create-student-routing.module';\nimport { CreateStudentsComponent } from 'src/app/component/create-students/create-students.component';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\n\n@NgModule({\n  declarations: [CreateStudentsComponent],\n  imports: [\n    CommonModule,\n    CreateStudentRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n  ],\n})\nexport class CreateStudentModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CreateStudentsComponent } from 'src/app/component/create-students/create-students.component';\nconst routes: Routes = [{ path: '', component: CreateStudentsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateStudentRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\n\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgxCsvParser } from 'ngx-csv-parser';\nimport { NgxCSVParserError } from 'ngx-csv-parser';\nimport { Observable } from 'rxjs';\nimport { PermissionService } from 'src/app/service/permission.service';\nimport { StudentsService } from 'src/app/service/students.service';\nimport Swal from 'sweetalert2';\n\nimport { ACTIVE_USER } from 'src/app/utilities/Decode_jwt';\n@Component({\n  selector: 'app-create-students',\n  templateUrl: './create-students.component.html',\n  styleUrls: ['./create-students.component.scss'],\n})\nexport class CreateStudentsComponent implements OnInit {\n  bulk: boolean = false;\n  student_record: any[];\n  header: boolean = true;\n  spinner: boolean = false;\n  student_create_form: FormGroup;\n  ref: Observable<any>;\n  subscription;\n  constructor(\n    private ngxCsvParser: NgxCsvParser,\n    private student_service: StudentsService,\n    private fb: FormBuilder,\n    private activated_route: ActivatedRoute,\n    private permission_service: PermissionService,\n    private router: Router\n  ) {}\n\n  check_permission() {\n    this.spinner = !this.spinner;\n    this.activated_route.data.subscribe(async (res) => {\n      const user: any = ACTIVE_USER();\n      if (!user.permissions.includes(res.role)) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Access Denied',\n        }).then(() => {\n          this.router.navigate(['/main']);\n          this.spinner = !this.spinner;\n        });\n        return;\n      }\n\n      this.spinner = !this.spinner;\n    });\n  }\n\n  fileChangeListener($event: any): void {\n    const files = $event.srcElement.files;\n    this.ngxCsvParser\n      .parse(files[0], { header: this.header, delimiter: ',' })\n      .subscribe(\n        (result: Array<any>) => {\n          this.student_record = result;\n        },\n        (error: NgxCSVParserError) => {\n          console.log('Error', error);\n        }\n      );\n  }\n\n  // for bulk upload\n  async create_student() {\n    this.spinner = true;\n    this.student_service\n      .bulk_student_registration(this.student_record)\n      .subscribe(\n        (res) => {\n          this.spinner = false;\n          Swal.fire({\n            icon: 'success',\n            title: 'Yeah...',\n            text: 'Course Created',\n          });\n          this.bulk = false;\n          this.student_record = [];\n        },\n        (error) => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: error.errorMessage,\n          }).then(() => {\n            this.router.navigate(['/main']);\n          });\n        }\n      );\n  }\n\n  validation() {\n    this.student_create_form = this.fb.group({\n      // name: ['', Validators.required],\n      email: ['', Validators.required],\n      date_of_joining: ['', Validators.required],\n    });\n  }\n\n  async create_student_single() {\n    this.spinner = true;\n    const data = this.student_create_form.getRawValue();\n    data['password'] = 'datatrained';\n    data['disabled'] = false;\n    data['permission'] = ['S00'];\n    data['batch_ids'] = [];\n    data['first_time'] = true;\n    data['name'] = null;\n\n    this.student_service.create_single_student(data).subscribe(\n      (res) => {\n        Swal.fire({\n          icon: 'success',\n          title: 'Yeah...',\n          text: 'Student Account Created',\n        });\n        this.student_create_form.reset();\n        this.bulk = false;\n        this.spinner = false;\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.router.navigate(['/main']);\n        });\n      }\n    );\n  }\n\n  ngOnInit(): void {\n    this.check_permission();\n    this.validation();\n  }\n}\n","<div class=\"card\" *ngIf=\"!spinner; else showspinner\">\n  <div class=\"card-body\">\n    <div class=\"header\">\n      <h3 *ngIf=\"!bulk\" class=\"\">Create Student</h3>\n      <h3 *ngIf=\"bulk\" class=\"\">Bulk Student Registration</h3>\n\n      <div class=\"d-flex align-items-center\">\n        <div\n          class=\"form-check form-switch d-flex align-items-center\"\n          style=\"padding-right: 1rem; cursor: pointer\"\n        >\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            id=\"flexSwitchCheckDefault\"\n            (change)=\"bulk = !bulk\"\n            style=\"padding: 1rem; width: 4em; cursor: pointer\"\n          />\n          <label\n            class=\"form-check-label\"\n            style=\"padding-left: 0.3rem\"\n            for=\"flexSwitchCheckDefault\"\n            >Bulk Registration</label\n          >\n        </div>\n        <button class=\"btn btn-primary\">\n          <a [routerLink]=\"['../students-details/student']\">\n            <i class=\"fas fa-arrow-left\"></i> Back\n          </a>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"option\" *ngIf=\"bulk\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <label for=\"formFile\" class=\"form-label\">Import CSV</label>\n            <input\n              class=\"form-control\"\n              (change)=\"fileChangeListener($event)\"\n              type=\"file\"\n              id=\"formFile\"\n            />\n          </div>\n          <div class=\"col-12 mt-3\">\n            <button\n              class=\"btn btn-primary\"\n              (click)=\"create_student()\"\n              [disabled]=\"!student_record\"\n            >\n              Create\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf=\"!bulk\">\n      <div class=\"container-fluid mt-3 p-0\">\n        <form\n          [formGroup]=\"student_create_form\"\n          (ngSubmit)=\"create_student_single()\"\n        >\n          <div class=\"row\">\n            <!-- <div class=\"col-12 col-md-4\">\n              <span class=\"p-float-label w-100\">\n                <input\n                  type=\"text\"\n                  id=\"inputtext\"\n                  class=\"form-control\"\n                  formControlName=\"name\"\n                  pInputText\n                />\n                <label for=\"inputtext\">Student Name</label>\n              </span>\n            </div> -->\n            <div class=\"col-12 col-md-6\">\n              <span class=\"p-float-label w-100\">\n                <input\n                  type=\"text\"\n                  id=\"inputtext\"\n                  class=\"form-control\"\n                  pInputText\n                  formControlName=\"email\"\n                />\n                <label for=\"inputtext\">Student Email</label>\n              </span>\n            </div>\n\n            <div class=\"col-12 col-md-6\">\n              <span class=\"p-float-label w-100\">\n                <p-calendar\n                  inputId=\"calendar\"\n                  [style]=\"{ minWidth: '100%' }\"\n                  formControlName=\"date_of_joining\"\n                  dateFormat=\"dd.mm.yy\"\n                ></p-calendar>\n\n                <label for=\"inputtext\">Date of Joining</label>\n              </span>\n            </div>\n\n            <div class=\"col-12 col-md-6 mt-3\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary\"\n                [disabled]=\"student_create_form.invalid\"\n              >\n                Create\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n"],"sourceRoot":"webpack:///"}