{"version":3,"sources":["./src/app/component/home/home.component.ts","./src/app/component/home/home.component.html","./src/app/Module/home/home-routing.module.ts","./src/app/Module/home/home.module.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\n\nimport { BatchService } from 'src/app/service/batch.service';\nimport { StudentsService } from 'src/app/service/students.service';\nimport { UserService } from 'src/app/service/user.service';\nimport { ACTIVE_USER } from 'src/app/utilities/Decode_jwt';\nimport { FormativeData } from 'src/app/utilities/formative_data';\nimport { environment } from 'src/environments/environment';\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent implements OnInit {\n  batch: any;\n  spinner: boolean = false;\n  user: any;\n  total_student: number = 0;\n  constructor(\n    private student_service: StudentsService,\n    private batch_service: BatchService,\n    private http: HttpClient\n  ) {}\n\n  // get all batch\n  get_user_all_batch() {\n    this.spinner = true;\n    this.user = ACTIVE_USER();\n\n    if (this.user.batch_ids.length > 0) {\n      this.batch_service.get_batch_details_home().subscribe(\n        (res: any) => {\n          this.check_batch_timing(res.data);\n        },\n        (error) => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: error.errorMessage,\n          }).then(() => {\n            this.spinner = false;\n          });\n        }\n      );\n      return;\n    }\n    this.total_student_count();\n  }\n\n  // check batch timing\n  async check_batch_timing(batch) {\n    try {\n      const date_obj: any = await this.http\n        .get(environment.time_api_url)\n        .toPromise();\n\n      const current_day_time = {\n        current_time: FormativeData.formative_date(\n          date_obj.currentDateTime,\n          'shortTime'\n        ),\n        current_day: date_obj.dayOfTheWeek,\n        current_date: new Date(date_obj.currentDateTime),\n      };\n\n      batch.forEach((bat, index) => {\n        const batch_info = {\n          batch_start_date: new Date(bat.batch_start_date),\n\n          batch_end_date: new Date(bat.batch_end_date),\n\n          batch_start_time: FormativeData.formative_date(\n            bat.batch_start_time,\n            'shortTime'\n          ),\n          batch_end_time: FormativeData.formative_date(\n            bat.batch_end_time,\n            'shortTime'\n          ),\n        };\n\n        if (\n          // current_day_time.current_time >= batch_info.batch_start_time &&\n          // current_day_time.current_time <= batch_info.batch_end_time &&\n          current_day_time.current_date >= batch_info.batch_start_date &&\n          current_day_time.current_date <= batch_info.batch_end_date &&\n          bat.active_days.includes(current_day_time.current_day)\n        ) {\n          bat.active = true;\n        } else {\n          bat.active = false;\n        }\n      });\n      this.total_student_count();\n      this.batch = batch;\n    } catch (error) {\n      this.spinner = false;\n      console.log(error);\n    }\n  }\n\n  total_student_count() {\n    this.student_service.total_student().subscribe((res: any) => {\n      this.total_student = res.count;\n      this.spinner = false;\n    });\n  }\n\n  ngOnInit(): void {\n    this.get_user_all_batch();\n  }\n}\n","<ng-container *ngIf=\"!spinner; else showspinner\">\n  <div class=\"row\">\n    <div class=\"col-md-6 col-xl-3\" *ngIf=\"batch\">\n      <div class=\"card stat-widget\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Total Live Sessions</h5>\n          <h2>{{ batch.length }}</h2>\n          <p>Schedule</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6 col-xl-3\">\n      <div class=\"card stat-widget\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Total Students</h5>\n          <h2>{{ total_student }}</h2>\n          <p>Active</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-sm-6 col-xl-4\" *ngIf=\"batch\">\n      <div class=\"card stat-widget\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Today's live Sessions</h5>\n\n          <ng-container *ngFor=\"let bat of batch\">\n            <div class=\"transactions-list\" *ngIf=\"bat.active\">\n              <div class=\"tr-item\">\n                <div class=\"tr-company-name\">\n                  <div class=\"tr-icon tr-card-icon tr-card-bg-info text-info\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"2\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      class=\"feather feather-twitch\"\n                    >\n                      <path\n                        d=\"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7\"\n                      ></path>\n                    </svg>\n                  </div>\n                  <div class=\"tr-text\">\n                    <h4>\n                      {{ bat.batch_name }}\n                    </h4>\n                    <p>\n                      {{ bat.batch_start_time | date: \"mediumTime\" }}\n                      to {{ bat.batch_end_time | date: \"mediumTime\" }}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from '../../component/home/home.component';\n\nconst routes: Routes = [{ path: '', component: HomeComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomeRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeRoutingModule } from './home-routing.module';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { HomeComponent } from '../../component/home/home.component';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\n\n@NgModule({\n  declarations: [HomeComponent],\n  imports: [\n    CommonModule,\n    HomeRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n  ],\n})\nexport class HomeModule {}\n"],"sourceRoot":"webpack:///"}