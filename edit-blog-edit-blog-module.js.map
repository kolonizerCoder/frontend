{"version":3,"sources":["./src/app/Module/edit-blog/edit-blog-routing.module.ts","./src/app/component/edit-blog/edit-blog.component.ts","./src/app/component/edit-blog/edit-blog.component.html","./src/app/Module/edit-blog/edit-blog.module.ts"],"names":[],"mappings":"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","file":"edit-blog-edit-blog-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EditBlogComponent } from '../../component/edit-blog/edit-blog.component';\n\nconst routes: Routes = [{ path: '', component: EditBlogComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditBlogRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BlogService } from 'src/app/service/blog.service';\nimport { CategoryService } from 'src/app/service/category.service';\nimport { QUILL_TOOLBAR_SETTING } from 'src/app/utilities/quill_setting';\nimport 'quill-emoji/dist/quill-emoji.js';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-edit-blog',\n  templateUrl: './edit-blog.component.html',\n  styleUrls: ['./edit-blog.component.scss'],\n})\nexport class EditBlogComponent implements OnInit {\n  spinner: boolean = false;\n  blog_id: string;\n  blog: any;\n  category: any;\n  update_blog_form: FormGroup;\n  modules = {};\n  html: any;\n  constructor(\n    private activated_route: ActivatedRoute,\n    private blog_service: BlogService,\n    private category_service: CategoryService,\n    private router: Router,\n    private fb: FormBuilder\n  ) {\n    this.modules = QUILL_TOOLBAR_SETTING;\n  }\n\n  get_category() {\n    this.spinner = true;\n    this.category_service.get_category_type('Knowledge').subscribe(\n      (res: any) => {\n        this.category = res.data;\n        this.get_blog_details();\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n          this.router.navigate(['/main']);\n        });\n      }\n    );\n  }\n\n  get_blog_details() {\n    this.blog_service.get_blog_details_by_id(this.blog_id).subscribe(\n      (res: any) => {\n        this.blog = res.data;\n        this.fill_previous_details();\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n        });\n      }\n    );\n  }\n\n  validation() {\n    this.update_blog_form = this.fb.group({\n      heading: ['', Validators.required],\n      category: ['', Validators.required],\n      html: ['', Validators.required],\n      published: [false, Validators.required],\n    });\n  }\n\n  fill_previous_details() {\n    this.update_blog_form.controls.category.patchValue(this.blog.category);\n    this.update_blog_form.controls.heading.patchValue(this.blog.heading);\n    this.update_blog_form.controls.html.patchValue(this.blog.html);\n    this.update_blog_form.controls.published.patchValue(this.blog.published);\n\n    this.spinner = false;\n  }\n\n  changedEditor(event) {\n    if (event.event === 'text-change') {\n      this.convert(event.html);\n    }\n  }\n\n  convert(data) {\n    const dom = document.createElement('div');\n    dom.innerHTML = data;\n    const iframe = dom.querySelectorAll('iframe');\n    iframe.forEach((element) => {\n      element.src = `${element.src}&rel=0`;\n    });\n\n    this.html = `${dom.innerHTML}`;\n  }\n\n  update_blog() {\n    const data = this.update_blog_form.getRawValue();\n    data.html = this.html;\n    data._id = this.blog_id;\n    this.blog_service.update_blog(data).subscribe(\n      (res) => {\n        Swal.fire({\n          icon: 'success',\n          title: 'Yeah...',\n          text: 'Updated',\n        }).then(() => {\n          this.spinner = false;\n          this.router.navigate(['/main/view-blog']);\n        });\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n        });\n      }\n    );\n  }\n\n  ngOnInit(): void {\n    this.blog_id = this.activated_route.snapshot.params.blog_id;\n    this.get_category();\n    this.validation();\n  }\n}\n","<div class=\"card\" *ngIf=\"!spinner; else showspinner\">\n  <div class=\"card-body\">\n    <div class=\"header\">\n      <h3 class=\"\">Update Article</h3>\n      <button class=\"btn btn-primary\">\n        <a [routerLink]=\"['../../view-blog']\">\n          <i class=\"fas fa-arrow-left\"></i> Back\n        </a>\n      </button>\n    </div>\n    <div class=\"container-fluid\">\n      <form\n        [formGroup]=\"update_blog_form\"\n        (ngSubmit)=\"update_blog()\"\n        class=\"w-100\"\n      >\n        <div class=\"row align-items-center\">\n          <div class=\"col-12 col-md-8 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <p-dropdown\n                inputId=\"dropdown\"\n                [autoDisplayFirst]=\"false\"\n                [options]=\"category\"\n                optionLabel=\"category_name\"\n                optionValue=\"_id\"\n                [style]=\"{ minWidth: '100%' }\"\n                formControlName=\"category\"\n              ></p-dropdown>\n              <label for=\"dropdown\">Category</label>\n            </span>\n          </div>\n\n          <div class=\"col-12 col-md-2 mt-5\">\n            <div class=\"p-field-checkbox\">\n              <p-checkbox\n                binary=\"true\"\n                formControlName=\"published\"\n                inputId=\"published\"\n              ></p-checkbox>\n              <label for=\"published\" class=\"px-2\">Published</label>\n            </div>\n          </div>\n\n          <div class=\"col-12 mt-5\">\n            <span class=\"p-float-label w-100\">\n              <input\n                type=\"text\"\n                id=\"inputtext\"\n                class=\"form-control\"\n                pInputText\n                formControlName=\"heading\"\n              />\n              <label for=\"inputtext\">Heading</label>\n            </span>\n          </div>\n\n          <div class=\"col-12 mt-5\">\n            <quill-editor\n              [styles]=\"{ 'min-height': '200px' }\"\n              [modules]=\"modules\"\n              (onEditorChanged)=\"changedEditor($event)\"\n              formControlName=\"html\"\n            >\n            </quill-editor>\n          </div>\n\n          <div class=\"col-12 col-md-4 mt-5\">\n            <button\n              class=\"btn btn-primary\"\n              [disabled]=\"update_blog_form.invalid\"\n            >\n              Update\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EditBlogRoutingModule } from './edit-blog-routing.module';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\nimport { EditBlogComponent } from '../../component/edit-blog/edit-blog.component';\n\n@NgModule({\n  declarations: [EditBlogComponent],\n  imports: [\n    CommonModule,\n    EditBlogRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n  ],\n})\nexport class EditBlogModule {}\n"],"sourceRoot":"webpack:///"}