{"version":3,"sources":["./src/app/Module/create-subject/create-subject-routing.module.ts","./src/app/component/create-subject/create-subject.component.ts","./src/app/component/create-subject/create-subject.component.html","./src/app/Module/create-subject/create-subject.module.ts"],"names":[],"mappings":"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","file":"create-subject-create-subject-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CreateSubjectComponent } from '../../component/create-subject/create-subject.component';\n\nconst routes: Routes = [{ path: '', component: CreateSubjectComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateSubjectRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  FormArray,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PermissionService } from 'src/app/service/permission.service';\nimport { SubjectService } from 'src/app/service/subject.service';\nimport { Notification } from 'src/app/utilities/ACCESS_DENIED';\nimport { ACTIVE_USER } from 'src/app/utilities/Decode_jwt';\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-create-subject',\n  templateUrl: './create-subject.component.html',\n  styleUrls: ['./create-subject.component.scss'],\n})\nexport class CreateSubjectComponent implements OnInit {\n  create_subject_form: FormGroup;\n  spinner: boolean = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private subject_service: SubjectService,\n    private activated_route: ActivatedRoute,\n    private router: Router,\n    private permission_service: PermissionService\n  ) {}\n\n  validation() {\n    this.create_subject_form = this.fb.group({\n      subject: new FormArray([new FormControl('', Validators.required)]),\n    });\n  }\n\n  get subject() {\n    return this.create_subject_form.get('subject') as FormArray;\n  }\n\n  addsubject() {\n    this.subject.push(new FormControl('', Validators.required));\n  }\n\n  remove_subject(index: number) {\n    if (this.subject.length > 1) {\n      this.subject.removeAt(index);\n    }\n  }\n\n  async create_subject() {\n    this.spinner = true;\n    const subject = this.subject.getRawValue();\n    this.subject_service.create_subject(subject).subscribe(\n      (res) => {\n        console.log(res);\n        Swal.fire({\n          icon: 'success',\n          title: 'Yeah...',\n          text: 'Subject Created',\n        }).then(() => {\n          this.create_subject_form.reset();\n          this.subject.clear();\n          this.addsubject();\n          this.spinner = false;\n        });\n      },\n      (error) => {\n        console.log(error);\n        Swal.fire({\n          icon: 'error',\n          title: 'Ohh...',\n          text: 'Something Went Wrong',\n        }).then(() => {\n          this.router.navigate(['/main']);\n        });\n      }\n    );\n  }\n\n  check_permission() {\n    this.spinner = !this.spinner;\n    this.activated_route.data.subscribe(async (res) => {\n      const user: any = ACTIVE_USER();\n      console.log(res.role);\n      if (!user.permissions.includes(res.role)) {\n        this.router.navigate(['/main']);\n        Notification.ACCESS_DENIED();\n        return '';\n      }\n      this.spinner = false;\n    });\n  }\n\n  ngOnInit(): void {\n    this.validation();\n    this.check_permission();\n  }\n}\n","<div class=\"card\" *ngIf=\"!spinner; else showspinner\">\n  <div class=\"card-body\">\n    <div class=\"header\">\n      <h3 class=\"\">Create Subject</h3>\n      <button class=\"btn btn-primary\">\n        <a [routerLink]=\"['../view-subject']\">\n          <i class=\"fas fa-arrow-left\"></i> Back\n        </a>\n      </button>\n    </div>\n    <div class=\"container-fluid mt-3\">\n      <form [formGroup]=\"create_subject_form\" (ngSubmit)=\"create_subject()\">\n        <ng-container formArrayName=\"subject\">\n          <div class=\"row my-4\" *ngFor=\"let _ of subject.controls; index as i\">\n            <div class=\"col-10\">\n              <span class=\"p-float-label w-100\">\n                <input\n                  type=\"text\"\n                  id=\"inputtext\"\n                  pInputText\n                  [formControlName]=\"i\"\n                  class=\"form-control\"\n                />\n                <label for=\"inputtext\">Subject Name</label>\n              </span>\n            </div>\n            <div class=\"col-2 d-flex\">\n              <div>\n                <button\n                  pButton\n                  pRipple\n                  type=\"button\"\n                  (click)=\"addsubject()\"\n                  icon=\"pi pi-plus\"\n                  class=\"p-button-rounded p-button-success\"\n                ></button>\n              </div>\n\n              <div style=\"margin-left: 1rem\">\n                <button\n                  pButton\n                  pRipple\n                  type=\"button\"\n                  (click)=\"remove_subject(i)\"\n                  icon=\"pi pi-minus\"\n                  class=\"p-button-rounded p-button-danger\"\n                ></button>\n              </div>\n            </div>\n          </div>\n        </ng-container>\n        <div class=\"col-12\">\n          <button\n            type=\"submit\"\n            [disabled]=\"create_subject_form.invalid\"\n            style=\"margin-left: 0.5rem\"\n            class=\"btn btn-primary\"\n          >\n            Create Subjects\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CreateSubjectRoutingModule } from './create-subject-routing.module';\nimport { CreateSubjectComponent } from '../../component/create-subject/create-subject.component';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [CreateSubjectComponent],\n  imports: [\n    CommonModule,\n    CreateSubjectRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n    ReactiveFormsModule,\n    FormsModule,\n  ],\n})\nexport class CreateSubjectModule {}\n"],"sourceRoot":"webpack:///"}