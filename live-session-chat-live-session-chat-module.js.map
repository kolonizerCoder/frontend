{"version":3,"sources":["./src/app/component/live-session-chat/live-session-chat.component.ts","./src/app/component/live-session-chat/live-session-chat.component.html","./src/app/Module/live-session-chat/live-session-chat.module.ts","./src/app/Module/live-session-chat/live-session-chat-routing.module.ts"],"names":[],"mappings":"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","file":"live-session-chat-live-session-chat-module.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { BatchService } from 'src/app/service/batch.service';\nimport { ChatService } from 'src/app/service/chat.service';\nimport { UserService } from 'src/app/service/user.service';\nimport { FormativeData } from 'src/app/utilities/formative_data';\nimport Swal from 'sweetalert2';\nimport { AttachmentService } from 'src/app/service/attachment.service';\nimport { Router } from '@angular/router';\nimport { LiveSessionChatService } from 'src/app/service/live-session-chat.service';\n\n@Component({\n  selector: 'app-live-session-chat',\n  templateUrl: './live-session-chat.component.html',\n  styleUrls: ['./live-session-chat.component.scss'],\n})\nexport class LiveSessionChatComponent implements OnInit {\n  groupedCities: any[];\n  spinner: boolean = false;\n  user: any;\n  batch: any;\n  selected_batch: any;\n  active_student_list: any[] = [];\n  selected_student: any;\n  selected_student_chat_message: any[] = [];\n  has_sme: boolean = false;\n  admin_id: string = localStorage.getItem('uid');\n  @ViewChild('textarea') textarea: ElementRef;\n  transfer_admin: any[];\n  files: any[] = [];\n  message_sending: boolean = false;\n  end_all_chat_button: boolean;\n  @ViewChild('sound') sound: ElementRef;\n\n  constructor(\n    private chat_service: ChatService,\n    private router: Router,\n    private user_service: UserService,\n    private attachment_service: AttachmentService,\n    private live_session_chat_service: LiveSessionChatService\n  ) {\n    // assign chat to admin\n    this.live_session_chat_service.assign_chat().subscribe((res) => {\n      this.active_student_list.forEach((stu) => {\n        if (res.chat_id === stu._id) {\n          stu.sme_id = res.sme_id;\n        }\n      });\n\n      this.filter_data();\n    });\n\n    // new message\n    this.live_session_chat_service.new_message_received().subscribe((res) => {\n      this.sound.nativeElement.pause();\n      this.sound.nativeElement.currentTime = 0;\n      if (res.sender_type !== 'admin') {\n        this.sound.nativeElement.play();\n      }\n\n      if (this.selected_student_chat_message) {\n        this.selected_student_chat_message.push(res);\n      }\n\n      // update admin read counter\n      this.active_student_list.forEach((stu) => {\n        if (stu._id === this.selected_student._id) {\n          stu.admin_unread_count = 0;\n        }\n      });\n\n      this.sorting(this.active_student_list);\n\n      setTimeout(() => {\n        this.scroll_chat_container();\n      }, 50);\n    });\n\n    // increment counter\n    this.live_session_chat_service\n      .increment_admin_counter()\n      .subscribe((res) => {\n        this.active_student_list = this.active_student_list.map((stu) => {\n          if (stu._id === res.chat_id) {\n            stu.admin_unread_count = res.admin_unread_count + 1;\n          } else {\n            stu.admin_unread_count = stu.admin_unread_count;\n          }\n          return stu;\n        });\n        this.sorting(this.active_student_list);\n      });\n\n    // end chat\n    this.live_session_chat_service.end_chat().subscribe((res) => {\n      res.forEach((element) => {\n        const dest = this.active_student_list.find(\n          (chats) => chats._id === element._id\n        );\n        if (dest) {\n          dest.sme_id = null;\n        } else {\n          element.sme_id = null;\n          this.active_student_list.push(element);\n        }\n      });\n      this.spinner = false;\n      this.sorting(this.active_student_list);\n    });\n\n    // transfer chat\n    this.live_session_chat_service.transfer_chat().subscribe((res) => {\n      if (res.sme_id === localStorage.getItem('uid')) {\n        this.active_student_list.push(res);\n        this.sorting(this.active_student_list);\n      }\n      console.log(this.active_student_list);\n      this.spinner = false;\n    });\n  }\n\n  filter_data() {\n    this.active_student_list = this.active_student_list.filter(\n      (stu) => stu.sme_id === localStorage.getItem('uid') || stu.sme_id == null\n    );\n    if (this.selected_student.sme_id !== localStorage.getItem('uid')) {\n      this.selected_student = '';\n    }\n    this.spinner = false;\n\n    setTimeout(() => {\n      this.scroll_chat_container();\n    }, 100);\n  }\n\n  sorting(data) {\n    this.active_student_list.sort(\n      (a, b) => b.admin_unread_count - a.admin_unread_count\n    );\n  }\n\n  textarea_auto_increment(event) {\n    const tx = event.target;\n    tx.style.height = 'auto';\n    tx.style.height = tx.scrollHeight + 'px';\n  }\n\n  scroll_chat_container() {\n    const div = document.getElementById('chat-body');\n    if (div != null) {\n      div.scrollTop = div.scrollHeight - div.clientHeight;\n    } else {\n      setTimeout(() => {\n        this.scroll_chat_container();\n      }, 200);\n    }\n  }\n\n  get_admin_batch() {\n    this.user_service.get_admin_batch_details().subscribe(\n      (res: any) => {\n        const data = res.data;\n        this.user = data;\n        this.batch = data.batch_ids;\n      },\n      (error) => {\n        this.error_handler(error);\n      }\n    );\n  }\n\n  error_handler(error) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: error.errorMessage,\n    }).then(() => {\n      this.spinner = false;\n      this.router.navigate(['/main']);\n    });\n  }\n\n  // after batch select get all the student list\n  get_all_student_chat() {\n    this.spinner = true;\n    this.selected_student = '';\n    this.selected_student_chat_message = [];\n    this.chat_service.get_batch_chat(this.selected_batch._id).subscribe(\n      (res: any) => {\n        this.active_student_list = res.data;\n        this.sorting(this.active_student_list);\n        this.spinner = false;\n      },\n      (error) => this.error_handler(error)\n    );\n  }\n\n  // after student selected get their chat\n  get_selected_student_chat(student) {\n    this.spinner = true;\n\n    if (this.selected_student) {\n      this.live_session_chat_service.leave({\n        room_id:\n          this.selected_student.student_id + this.selected_student.batch_id,\n      });\n    }\n\n    this.selected_student = student;\n\n    if (this.selected_student.sme_id === localStorage.getItem('uid')) {\n      this.live_session_chat_service.join_room({\n        room_id:\n          this.selected_student.student_id + this.selected_student.batch_id,\n      });\n    }\n\n    this.chat_service\n      .get_selected_studentChat(this.selected_student._id)\n      .subscribe(\n        (res: any) => {\n          const response = res.data;\n          this.selected_student_chat_message = response.message;\n          this.scroll_chat_container();\n          this.spinner = false;\n        },\n        (error) => this.error_handler(error)\n      );\n  }\n\n  assign_chat_to_admin() {\n    this.spinner = true;\n    const data = {\n      chat_id: this.selected_student._id,\n      sme_id: localStorage.getItem('uid'),\n    };\n\n    this.live_session_chat_service.join_room({\n      room_id:\n        this.selected_student.student_id + this.selected_student.batch_id,\n    });\n    this.live_session_chat_service.assign_chat_to_admin(data);\n  }\n\n  // attachment\n  attchment(event) {\n    this.files = [];\n    for (let i = 0; i < event.target.files.length; i++) {\n      this.files.push(event.target.files[i]);\n    }\n  }\n\n  // send message\n  async send_message(message) {\n    this.message_sending = true;\n    const message_obj = {\n      text_message: message.value,\n      sme_id: localStorage.getItem('uid'),\n      sender_name: this.user.name,\n      sender_type: 'admin',\n      attachment: [],\n      created_at: new Date(),\n    };\n    const data = {\n      room_id:\n        this.selected_student.student_id + this.selected_student.batch_id,\n      chat_id: this.selected_student._id,\n    };\n    this.textarea.nativeElement.value = '';\n    try {\n      if (this.files.length > 0) {\n        const files: any = await this.attachment_service.upload_files(\n          this.files\n        );\n        message_obj['attachment'] = FormativeData.concat_url_with_files(\n          files.files_paths\n        );\n      }\n\n      this.live_session_chat_service.send_message(message_obj, data);\n\n      this.files = [];\n      this.message_sending = false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  end_chat() {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'Do you want to end this chat',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes',\n    }).then(async (result) => {\n      if (result.isConfirmed) {\n        this.spinner = true;\n        this.selected_student_chat_message = [];\n        this.live_session_chat_service.leave({\n          room_id:\n            this.selected_student.student_id + this.selected_student.batch_id,\n        });\n        this.live_session_chat_service.end_all_chat([this.selected_student]);\n        this.selected_student = '';\n      }\n    });\n  }\n\n  transfer_chat(doc) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'Do you want to transfer this chat',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes',\n    }).then(async (result) => {\n      if (result.isConfirmed) {\n        this.spinner = true;\n        this.selected_student_chat_message = [];\n        this.selected_student.sme_id = doc.value;\n\n        this.active_student_list = this.active_student_list.filter(\n          (stu) =>\n            !(\n              stu.student_id === this.selected_student.student_id &&\n              stu.batch_id === this.selected_student.batch_id\n            )\n        );\n\n        this.live_session_chat_service.transfer(this.selected_student);\n        this.live_session_chat_service.leave({\n          room_id:\n            this.selected_student.student_id + this.selected_student.batch_id,\n        });\n\n        this.selected_student = '';\n      }\n    });\n  }\n\n  // for transfer\n  get_all_admin() {\n    this.spinner = true;\n\n    this.user_service.get_all_admin().subscribe(\n      (res: any) => {\n        this.transfer_admin = res.data;\n        this.spinner = false;\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.spinner = false;\n          this.router.navigate(['/main']);\n        });\n      }\n    );\n  }\n\n  load_more() {}\n\n  end_all_chat() {}\n\n  ngOnInit(): void {\n    this.get_admin_batch();\n    this.get_all_admin();\n  }\n\n  ngOnDestroy(): void {\n    this.live_session_chat_service.remove_listen();\n\n    if (this.selected_student) {\n      this.live_session_chat_service.leave({\n        room_id:\n          this.selected_student.student_id + this.selected_student.batch_id,\n      });\n    }\n  }\n}\n","<section *ngIf=\"!spinner; else showspinner\">\n  <!-- chat module -->\n  <div class=\"row\">\n    <div class=\"col-sm-12 col-md-4 m-b-md\">\n      <div class=\"card\">\n        <div class=\"card-body p-0 p-2\">\n          <div class=\"row align-items-center\">\n            <!-- batch area -->\n            <div class=\"col-7\">\n              <p-dropdown\n                [options]=\"batch\"\n                placeholder=\"Select a Batch\"\n                optionLabel=\"batch_name\"\n                [style]=\"{ minWidth: '100%', 'border-radius': '10px' }\"\n                [(ngModel)]=\"selected_batch\"\n                display=\"chip\"\n                (onChange)=\"get_all_student_chat()\"\n              >\n              </p-dropdown>\n            </div>\n\n            <div class=\"col-5\">\n              <button\n                type=\"button\"\n                class=\"btn btn-danger\"\n                [disabled]=\"!end_all_chat_button\"\n                (click)=\"end_all_chat()\"\n              >\n                End All Chat\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- student list -->\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div class=\"email-list\">\n            <ul class=\"list-unstyled\">\n              <ng-container *ngIf=\"active_student_list.length > 0; else nodata\">\n                <li\n                  *ngFor=\"let student of active_student_list\"\n                  (click)=\"get_selected_student_chat(student)\"\n                  style=\"cursor: pointer\"\n                >\n                  <a class=\"javascript:void(0)\">\n                    <div class=\"email-list-item\">\n                      <div class=\"email-author\">\n                        <img\n                          src=\"../../assets/images/avatars/profile-image-1.png\"\n                          alt=\"\"\n                        />\n                        <span class=\"author-name\">\n                          {{ student.student_name }}\n                        </span>\n                        <span class=\"email-date\">\n                          {{ student.admin_unread_count }}\n                        </span>\n                      </div>\n                    </div>\n                  </a>\n                </li>\n              </ng-container>\n\n              <li>\n                <ng-template #nodata>\n                  <h4 class=\"h4 warnning\">\n                    Please Select A batch from the dropdown above\n                  </h4>\n                </ng-template>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- chat container -->\n    <div class=\"col-sm-12 col-md-8\" *ngIf=\"selected_batch\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <ng-container *ngIf=\"selected_student; else warning\">\n            <div\n              class=\"\n                chat-header\n                d-flex\n                justify-content-between\n                align-items-center\n              \"\n            >\n              <h3 class=\"h3\" *ngIf=\"selected_student\">\n                {{ selected_student.student_name }}\n              </h3>\n              <div\n                class=\"control d-flex\"\n                *ngIf=\"selected_student && selected_student.sme_id == admin_id\"\n              >\n                <div class=\"batch_list\">\n                  <p-dropdown\n                    #transfer_admin_id\n                    [options]=\"transfer_admin\"\n                    placeholder=\"Transfer Chat\"\n                    (onChange)=\"transfer_chat(transfer_admin_id)\"\n                    optionLabel=\"name\"\n                    optionValue=\"_id\"\n                    [style]=\"{ minWidth: '100%', 'border-radius': '10px' }\"\n                  >\n                    <ng-template let-group pTemplate=\"group\">\n                      <div class=\"p-d-flex p-ai-center\">\n                        <span>{{ group.label }}</span>\n                      </div>\n                    </ng-template>\n                  </p-dropdown>\n                </div>\n                <div class=\"control\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-danger\"\n                    (click)=\"end_chat()\"\n                  >\n                    End Chat\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"chat-body px-2\" id=\"chat-body\">\n              <div class=\"d-flex\">\n                <button\n                  pButton\n                  pRipple\n                  pTooltip=\"Load more\"\n                  type=\"button\"\n                  icon=\"pi pi-cloud-download\"\n                  class=\"p-button-rounded p-button-outlined m-auto\"\n                  [disabled]=\"!selected_student_chat_message\"\n                  (click)=\"load_more()\"\n                ></button>\n              </div>\n\n              <div class=\"post-comments d-flex flex-column\">\n                <ng-container *ngIf=\"selected_student_chat_message\">\n                  <div\n                    class=\"post-comm\"\n                    *ngFor=\"let message of selected_student_chat_message\"\n                    [ngClass]=\"\n                      message.sender_type === 'student'\n                        ? 'align-self-start'\n                        : 'align-self-end'\n                    \"\n                  >\n                    <img\n                      src=\"../../assets/images/avatars/profile-image-2.png\"\n                      class=\"comment-img\"\n                      alt=\"\"\n                    />\n                    <div class=\"comment-container pb-2\">\n                      <span class=\"comment-author\">\n                        {{ message.sender_name }}\n                        <small class=\"comment-date\" *ngIf=\"message.created_at\">\n                          {{\n                            message.created_at | amDateFormat: \"hh:mmA\"\n                          }}</small\n                        >\n                      </span>\n                    </div>\n\n                    <ng-container *ngIf=\"message.text_message\">\n                      <p-divider></p-divider>\n                      <span class=\"comment-text\">\n                        {{ message.text_message }}\n                      </span>\n                    </ng-container>\n\n                    <div\n                      class=\"attachment\"\n                      *ngIf=\"message.attachment?.length > 0\"\n                    >\n                      <p-divider></p-divider>\n                      <small>Attachments</small>\n                      <ul\n                        class=\"d-flex flex-wrap\"\n                        style=\"list-style: none; margin: 0; padding: 0\"\n                      >\n                        <li\n                          class=\"mr-2\"\n                          *ngFor=\"let file of message.attachment; index as i\"\n                        >\n                          <a\n                            [href]=\"file\"\n                            target=\"_blank\"\n                            [ngClass]=\"{\n                              'text-white': message.sender_type === 'student'\n                            }\"\n                            >file{{ i }}</a\n                          >\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </ng-container>\n              </div>\n            </div>\n\n            <!-- chat form -->\n            <div class=\"chat-footer\">\n              <div\n                class=\"row p-0 align-items-center\"\n                *ngIf=\"selected_student.sme_id; else startchat\"\n              >\n                <div class=\"col-9 col-md-10\">\n                  <textarea\n                    name=\"text\"\n                    placeholder=\"Write Something\"\n                    id=\"\"\n                    cols=\"30\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    #textarea\n                    (input)=\"textarea_auto_increment($event)\"\n                  ></textarea>\n                </div>\n                <div\n                  class=\"\n                    chat-control\n                    col-3 col-md-2\n                    d-flex\n                    align-items-center\n                    p-0\n                    pl-0\n                  \"\n                >\n                  <div class=\"attachment\">\n                    <div class=\"file\">\n                      <input\n                        type=\"file\"\n                        multiple\n                        name=\"file\"\n                        (change)=\"attchment($event)\"\n                        id=\"file\"\n                      />\n                      <label for=\"file\" title=\"select files\">\n                        <span *ngIf=\"files.length == 0; else count\"\n                          ><i class=\"fas fa-paperclip\"></i\n                        ></span>\n                        <ng-template #count>\n                          <span class=\"count\"> {{ files.length }} </span>\n                        </ng-template>\n                      </label>\n                    </div>\n                  </div>\n                  <div class=\"send z-1000\">\n                    <ng-container *ngIf=\"!message_sending; else wait\">\n                      <button\n                        type=\"button\"\n                        [disabled]=\"textarea.value == '' && files.length == 0\"\n                        (click)=\"send_message(textarea)\"\n                      >\n                        <i class=\"far fa-paper-plane\"></i>\n                      </button>\n                    </ng-container>\n\n                    <ng-template #wait>\n                      <button\n                        pButton\n                        pRipple\n                        type=\"button\"\n                        icon=\"pi pi-spin pi-spinner\"\n                        class=\"p-button-rounded\"\n                        disabled=\"true\"\n                      ></button>\n                    </ng-template>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"row p-0\">\n                <ng-template #startchat>\n                  <div class=\"col-12\">\n                    <button\n                      class=\"btn btn-success w-100\"\n                      [disabled]=\"!selected_student\"\n                      (click)=\"assign_chat_to_admin()\"\n                    >\n                      Start Chat\n                    </button>\n                  </div>\n                </ng-template>\n              </div>\n            </div>\n          </ng-container>\n\n          <ng-template #warning>\n            <h4 class=\"h4 warnning\">Please Select A student to start Chat</h4>\n          </ng-template>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<audio src=\"../../../assets/Sound/pop.mp3\" #sound></audio>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LiveSessionChatRoutingModule } from './live-session-chat-routing.module';\nimport { LiveSessionChatComponent } from '../../component/live-session-chat/live-session-chat.component';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [LiveSessionChatComponent],\n  imports: [\n    CommonModule,\n    LiveSessionChatRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n    HttpClientModule,\n  ],\n})\nexport class LiveSessionChatModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LiveSessionChatComponent } from '../../component/live-session-chat/live-session-chat.component';\n\nconst routes: Routes = [{ path: '', component: LiveSessionChatComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LiveSessionChatRoutingModule {}\n"],"sourceRoot":"webpack:///"}