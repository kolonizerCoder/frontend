{"version":3,"sources":["./src/app/component/user-details/user-details.component.ts","./src/app/component/user-details/user-details.component.html","./src/app/Module/user-details/user-details.module.ts","./src/app/Module/user-details/user-details-routing.module.ts"],"names":[],"mappings":"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","file":"user-details-user-details-module.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from 'src/app/service/user.service';\nimport { Notification } from 'src/app/utilities/ACCESS_DENIED';\nimport { ACTIVE_USER } from 'src/app/utilities/Decode_jwt';\nimport { FormativeData } from 'src/app/utilities/formative_data';\nimport Swal from 'sweetalert2';\nimport { LazyLoadEvent } from 'primeng/api';\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.scss'],\n})\nexport class UserDetailsComponent implements OnInit {\n  user_type: string;\n  user_data: any;\n  spinner: boolean = false;\n  items: any[];\n  user_profile: any;\n  menu_type: string;\n\n  constructor(\n    private ActivatedRoute: ActivatedRoute,\n    private user_service: UserService,\n    private router: Router\n  ) {}\n\n  get_users_data() {\n    this.spinner = true;\n    this.user_service.get_user_details().subscribe(\n      (res: any) => {\n        this.user_data = res.data;\n        this.spinner = false;\n      },\n      (error) => {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error.errorMessage,\n        }).then(() => {\n          this.router.navigate(['/main']);\n          this.spinner = false;\n          return '';\n        });\n      }\n    );\n  }\n\n  async role() {\n    this.spinner = true;\n    this.user_profile = ACTIVE_USER();\n    this.setMenu();\n  }\n\n  setMenu() {\n    if (!this.user_profile.permissions.includes('U00')) {\n      this.router.navigate(['/main']);\n      Notification.ACCESS_DENIED();\n      return '';\n    }\n    this.get_users_data();\n    this.items = [\n      {\n        label: 'Actions',\n        items: [\n          {\n            label: 'View',\n            icon: 'pi pi-eye',\n            command: () => {\n              this.menu_type = 'view';\n            },\n          },\n        ],\n      },\n    ];\n\n    if (this.user_profile.permissions.includes('U10')) {\n      this.items[0].items.push({\n        label: 'Edit',\n        icon: 'pi pi-user-edit',\n        command: () => {\n          this.menu_type = 'edit';\n        },\n      });\n    }\n\n    if (this.user_profile.permissions.includes('LSS11')) {\n      this.items[0].items.push({\n        label: 'Live Session Setting',\n        icon: 'pi pi-user-edit',\n        command: () => {\n          this.menu_type = 'live_session';\n        },\n      });\n    }\n\n    this.spinner = false;\n  }\n\n  set_dynamic_url(id) {\n    switch (this.menu_type) {\n      case 'view':\n        this.router.navigate(['main/view-user-profile', id]);\n        break;\n\n      case 'edit':\n        this.router.navigate(['main/edit-user', id]);\n        break;\n\n      case 'live_session':\n        this.router.navigate(['main/assign-batch-to-admin', id]);\n        break;\n\n      default:\n        console.log('');\n    }\n  }\n\n  ngOnInit(): void {\n    this.role();\n  }\n}\n","<div class=\"card\" *ngIf=\"!spinner; else showspinner\">\n  <div class=\"card-body\">\n    <div class=\"header\">\n      <h3 class=\"\">Active User</h3>\n      <button class=\"btn btn-primary\">\n        <a [routerLink]=\"['../../create-user']\">\n          Create Admin <i class=\"fas fa-plus\"></i>\n        </a>\n      </button>\n    </div>\n\n    <div>\n      <p-table\n        #usertable\n        [value]=\"user_data\"\n        dataKey=\"id\"\n        [rows]=\"10\"\n        [showCurrentPageReport]=\"true\"\n        [rowsPerPageOptions]=\"[10, 25, 50]\"\n        styleClass=\"p-datatable-customers\"\n        [paginator]=\"true\"\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n        [globalFilterFields]=\"['name', 'email']\"\n      >\n        <ng-template pTemplate=\"caption\" class=\"w-100\">\n          <div class=\"p-d-flex w-100\">\n            <span class=\"p-input-icon-left p-ml-auto w-100\">\n              <i class=\"pi pi-search\"></i>\n              <input\n                pInputText\n                type=\"text\"\n                (input)=\"\n                  usertable.filterGlobal($event.target.value, 'contains')\n                \"\n                placeholder=\"Search keyword\"\n                class=\"w-100\"\n              />\n            </span>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Type</th>\n            <th>Action</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-user>\n          <tr>\n            <td>\n              {{ user.name }}\n            </td>\n            <td>{{ user.email }}</td>\n            <td>{{ user.user_type }}</td>\n            <td class=\"position-relative\">\n              <button\n                pButton\n                pRipple\n                type=\"button\"\n                icon=\"pi pi-ellipsis-h\"\n                class=\"p-button-rounded p-button-text\"\n                (click)=\"menu.toggle($event)\"\n              ></button>\n\n              <p-menu\n                #menu\n                [popup]=\"true\"\n                [model]=\"items\"\n                (click)=\"set_dynamic_url(user._id)\"\n              ></p-menu>\n            </td>\n          </tr>\n        </ng-template>\n        <!-- <ng-template pTemplate=\"paginatorleft\">\n          <p-button\n            type=\"button\"\n            icon=\"pi pi-plus\"\n            styleClass=\"p-button-text\"\n          ></p-button>\n        </ng-template> -->\n\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td colspan=\"5\">No User found.</td>\n          </tr>\n        </ng-template>\n      </p-table>\n    </div>\n  </div>\n</div>\n\n<ng-template #showspinner>\n  <div class=\"spinner\">\n    <app-spinner></app-spinner>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserDetailsRoutingModule } from './user-details-routing.module';\nimport { PrimengModule } from 'src/app/SharedModule/primeng/primeng.module';\nimport { SharedUtilitiesModule } from 'src/app/SharedModule/shared-utilities/shared-utilities.module';\nimport { UserDetailsComponent } from '../../component/user-details/user-details.component';\n\n@NgModule({\n  declarations: [UserDetailsComponent],\n  imports: [\n    CommonModule,\n    UserDetailsRoutingModule,\n    PrimengModule,\n    SharedUtilitiesModule,\n  ],\n})\nexport class UserDetailsModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserDetailsComponent } from '../../component/user-details/user-details.component';\n\nconst routes: Routes = [{ path: '', component: UserDetailsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserDetailsRoutingModule {}\n"],"sourceRoot":"webpack:///"}